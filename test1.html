<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- 
source: https://gist.github.com/tanmaykm/5111225 
-->
<html>
  <head>
        <title>Websocket Demo</title>
        <style>
            .cell {
                color:white;
                height:20px;
                width:20px;
            }
        </style>
        <script>
            function log_msg(msg) {
                console.log(msg);
            }
            var s; //socket object for connection
            let playing = false; // 遊戲狀態
            let blocks_pos = [[[[0,0],[-1,0],[-2,0],[1,0]], [[0,0],[0,-1],[0,-2],[0,1]], 2], // I
            [[[-1,0],[-1,1],[0,1],[0,0]], 1], // O
            [[[0,0],[-1,0],[0,1],[1,1]], [[1,0],[1,-1],[0,0],[0,1]], 2], // Z
            [[[0,0],[1,0],[0,1],[-1,1]], [[-1,-1],[-1,0],[0,0],[0,1]], 2], // S
            [[[0,0],[-1,0],[1,0],[-1,1]], [[0,0],[0,1],[0,-1],[1,1]], [[0,0],[1,0],[-1,0],[1,-1]], [[0,0],[0,-1],[0,1],[-1,-1]], 4], // L
            [[[0,0],[-1,0],[1,0],[1,1]], [[0,0],[0,1],[0,-1],[1,-1]], [[0,0],[1,0],[-1,0],[-1,-1]], [[0,0],[0,-1],[0,1],[-1,1]], 4], // J
            [[[0,0],[-1,0],[1,0],[0,1]], [[0,0],[0,1],[0,-1],[1,0]], [[0,0],[1,0],[-1,0],[0,-1]], [[0,0],[0,-1],[0,1],[-1,0]], 4,]] // T
            let fields = []; // 要畫的方塊
            let now = []; // 現在控制方塊
            let next = []; // 下個方塊
            let showNext = []; // 顯示下個方塊
            let dropCount = 0;
            let userInput = 0; // 使用者輸入
            let move = 0;
            let rotate = 0;
            let myBlock = [[],[]];
            let processID = 0;
            let scores = [0,40,100,300,1200];
            let score = 0;
            let player = 0; // 玩家是誰
            let over = [true,true]; // 遊戲結束
            let gp;
            function doInit() {
                try {
                    //var host = "ws://localhost:4545/"; //設定socker server的ip:port
                    var host = " wss://1756-163-22-18-32.jp.ngrok.io/"
                    //var host = "ws://10.107.43.146:4545/";
                    s = new WebSocket(host); //建立socket元件
                    //設定幾個主要事件
                    s.onopen = function (e) { log_msg("connected..."); };
                    s.onclose = function (e) { log_msg("connection closed."); };
                    s.onerror = function (e) { log_msg("connection error."); };
                    
                    //當server送訊息來時
                    s.onmessage = function (e) { 
                        //log_msg("message: " + e.data);
                        //e.data是Socket server送來的訊息
                        //用, 來切割訊息
                        strs = e.data.split(',');
                        //解讀各段訊息的內容
                        signal = strs[0];
                        who = parseInt(strs[1]);
                        if (signal=="start") { // 開始遊戲的訊號
                            console.log("start");
                            startSignal();
                        } else if (signal=="score") {
                            if (who==1) {
                                document.getElementById("p1score").innerHTML = strs[strs.length-1];
                            } else if (who==2) {
                                document.getElementById("p2score").innerHTML = strs[strs.length-1];
                            }
                        } else if (signal=="color") {
                            if (over[who] == false) {
                                document.getElementById((strs[strs.length-2]).toString()).style.backgroundColor = strs[strs.length-1];
                            }
                            if (who != player.toString()) {
                                document.getElementById((strs[strs.length-2]).toString()).style.backgroundColor = strs[strs.length-1];
                            }
                        } else if (signal=="gameover") {
                            over[parseInt(strs[strs.length-1])-1] = false;
                            console.log(over);
                            if (over[0] == false && over[1] == false) {
                                over = [true,true];
                                gameover();
                            }
                        }
                    };
                } catch (ex) {
                    log_msg("connection exception:" + ex);
                }
            }
            // 向server發出開始遊戲的訊號
            function play() {
                console.log(playing);
                if (playing == false) { // 防止遊戲被中斷
                    playing = true; // 設為正在執行遊戲
                    s.send("start");
                }
            }
            // 開始遊戲
            function startSignal() {
                // 清除上次的遊戲紀錄
                fields = [];
                now = [];
                next = [];
                showNext = [];
                myBlock = [[],[]];
                console.log("clean");
                document.getElementById("p1score").innerHTML = "0";
                document.getElementById("p2score").innerHTML = "0";
                document.getElementById("result").innerHTML="";
                for (i=0; i < 400; i++) {
                    document.getElementById(i.toString()).style.backgroundColor = "white";
                }
                player = document.getElementById('sign').value;
                var block = Math.floor(Math.random()*7);
                var nextBlock = Math.floor(Math.random()*7);
                var r = 0;
                var c = 5;
                myBlock[0] = [block,blocks_pos[block][blocks_pos[block].length-1],0];
                myBlock[1] = [nextBlock,blocks_pos[block][blocks_pos[nextBlock].length-1],0];
                for (i=0; i < 4; i++) {
                    var br = r+blocks_pos[block][0][i][1];
                    var bc = c+blocks_pos[block][0][i][0];
                    now.push(br*10+bc+200*(player-1));
                    var br = r+blocks_pos[nextBlock][0][i][1];
                    var bc = c+blocks_pos[nextBlock][0][i][0];
                    next.push(br*10+bc+200*(player-1));
                    showNext.push(br*4+bc-3+400+12*(player-1));
                }
                draw();
                //startGame();
                score = 0;
                processID = setInterval(startGame,200);
            }
            function startGame() {
                ///
                gp = navigator.getGamepads()[0];
                //console.log(gp.axes);
                if (gp != undefined) {
                    if (gp.buttons[0].value > 0 || gp.buttons[0].pressed) {
                        rotate = 1;
                    } else if (gp.buttons[1].value > 0 || gp.buttons[1].pressed) {
                        rotate = 2;
                    } else if (gp.axes[1] == -1) {
                        move = -1;
                    } else if (gp.axes[1] == 1) {
                        move = 1;
                    }
                }
                ///
                document.onkeydown = function(event){
                    event = event || window.event;
                    userInput = event.keyCode;
                    //console.log(userInput);
                    if (userInput != 0) {
                        if (userInput == 65) { // 左
                            move = -1;
                        } else if (userInput == 68) { // 右
                            move = 1;
                        } else if (userInput == 74) { // 逆轉
                            rotate = 2;
                        } else if (userInput == 75) { // 順轉
                            rotate = 1;
                        }
                    }
                }
                for (i=0;i < now.length; i++) {
                    now[i] += move;
                    if (lrcollide(now[i],move) == false) {
                        for (j=0; j < i+1; j++) {
                            now[j] -= move;
                        }
                        break;
                    }
                }
                move = 0;
                if (rotate == 1) {
                    var now1 = [];
                    for (i=0; i < now.length; i++) {
                        now1.push(now[i]);
                    }
                    var kind = myBlock[0][2];
                    var oldkind = myBlock[0][2];
                    kind += 1;
                    if (kind >= myBlock[0][1]) {
                        kind -= myBlock[0][1];
                    }
                    var success = true;
                    for (i=0 ; i < now.length; i++) {
                        oldnow = now[i];
                        now[i] = now[i] - blocks_pos[myBlock[0][0]][oldkind][i][1]*10 - blocks_pos[myBlock[0][0]][oldkind][i][0] + blocks_pos[myBlock[0][0]][kind][i][1]*10 + blocks_pos[myBlock[0][0]][kind][i][0];
                        if (collide(now[i])==false || (now[i]%10-oldnow%10>5 || now[i]%10-oldnow%10<-5)) {
                            for (j=0; j < now.length; j++) {
                                now[j] = now1[j];
                            }
                            success = false;
                            break;
                        }
                    }
                    if (success == true) {
                        myBlock[0][2] = kind;
                    }
                }
                if (rotate == 2) {
                    var now1 = [];
                    for (i=0; i < now.length; i++) {
                        now1.push(now[i]);
                    }
                    var kind = myBlock[0][2];
                    var oldkind = myBlock[0][2];
                    kind -= 1;
                    if (kind < 0) {
                        kind += myBlock[0][1];
                    }
                    var success = true;
                    for (i=0 ; i < now.length; i++) {
                        oldnow = now[i];
                        now[i] = now[i] - blocks_pos[myBlock[0][0]][oldkind][i][1]*10 - blocks_pos[myBlock[0][0]][oldkind][i][0] + blocks_pos[myBlock[0][0]][kind][i][1]*10 + blocks_pos[myBlock[0][0]][kind][i][0];
                        if (collide(now[i])==false || (now[i]%10-oldnow%10>5 || now[i]%10-oldnow%10<-5)) {
                            for (j=0; j < now.length; j++) {
                                now[j] = now1[j];
                            }
                            success = false;
                            break;
                        }
                    }
                    if (success == true) {
                        myBlock[0][2] = kind;
                    }
                }
                rotate = 0;
                
                dropCount += 1;
                if (dropCount == 1) {
                    drop();
                    dropCount = 0;
                }
                // 消除
                var toclean = false;
                var allLine = [[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]];
                for (i = 0; i < fields.length; i++) {
                    allLine[parseInt((fields[i]-200*(player-1))/10)].push(fields[i]);
                }
                var lines = 0;
                for (i = 0; i < allLine.length; i++) {
                    if (allLine[i].length == 10) {
                        lines += 1;
                        for (j = 0; j < allLine[i].length; j++) {
                            document.getElementById((allLine[i][j]).toString()).style.backgroundColor = "white";
                            fields.remove(allLine[i][j]);
                            text = allLine[i][j];
                            s.send("color,"+player.toString()+",white");
                        }
                        toclean = true;
                    }
                }
                score += scores[lines];
                // 消除完墜落
                if (toclean == true) {
                    for (i=allLine.length-1; i >= 0; i--) {
                        if (allLine[i].length != 0 && allLine[i].length != 10) {
                            var fall = true;
                            var count = 0;
                            while (fall==true) {
                                for (j=0; j < allLine[i].length; j++) {
                                    if (allLine[i][j]+10 >= 200+200*(player-1) || document.getElementById((allLine[i][j]+10).toString()).style.backgroundColor=="black") {
                                        fall = false;
                                    }
                                }
                                if (fall==true) {
                                    for (k=0; k < allLine[i].length; k++) {
                                        allLine[i][k] += 10;
                                    }
                                    for (k=0; k < fields.length; k++) {
                                        if (parseInt((fields[k]-200*(player-1))/10)==(i+count)) {
                                            document.getElementById((fields[k]).toString()).style.backgroundColor="white";
                                            text = fields[k];
                                            s.send("color,"+player.toString()+","+text+",white");
                                            fields[k] += 10;
                                            document.getElementById((fields[k]).toString()).style.backgroundColor="black";
                                            text = fields[k];
                                            s.send("color,"+player.toString()+","+text+",black");
                                        }
                                    }
                                }
                                count += 1;
                            }
                        }
                    }
                }
                //console.log(now);
                draw();
            }
            function drop() {
                var now1 = [];
                for (i=0; i < now.length; i++) {
                    now1.push(now[i]);
                }
                for (i=0; i < now.length; i++) {
                    now[i] += 10;
                    if (collide(now[i]) == false) {
                        for (j=0; j < now.length; j++) {
                            fields.push(now1[j]);
                            now[j] = next[j];
                        }
                        var block = Math.floor(Math.random()*7);
                        var r = 0;
                        var c = 5;
                        for (j=0; j < 4; j++) {
                            var br = r+blocks_pos[block][0][j][1];
                            var bc = c+blocks_pos[block][0][j][0];
                            next[j] = br*10+bc+200*(player-1);
                            showNext[j] = br*4+bc-3+400+12*(player-1);
                        }
                        for (j=0; j < myBlock[0].length; j++) {
                            myBlock[0][j] = myBlock[1][j];
                        }
                        myBlock[1] = [block,blocks_pos[block][blocks_pos[block].length-1],0];
                        myover = false;
                        for (j=0; j < now.length; j++) {
                            if (topout(now[j])==false) {
                                myover = true;
                            }
                        }
                        if (myover == true) {
                            text = "gameover";
                            s.send(text+","+player);
                            clearInterval(processID);
                        }
                        break;
                    }
                }
            }
            function draw() {
                //console.log(fields);
                for (j=0+200*(player-1); j < 200+200*(player-1); j++) {
                    if (fields.includes(j) == true || now.includes(j) == true) {
                        document.getElementById(j.toString()).style.backgroundColor = "black";
                        text = j;
                        s.send("color,"+player.toString()+","+text+",black");
                    } else {
                        document.getElementById(j.toString()).style.backgroundColor = "white";
                        text = j;
                        s.send("color,"+player.toString()+","+text+",white");
                    }
                }
                console.log(showNext);
                for (j=400+12*(player-1); j < 412+12*(player-1); j++) {
                    if (showNext.includes(j) == true) {
                        document.getElementById(j.toString()).style.backgroundColor = "black";
                        text = j;
                        s.send("color,"+player.toString()+","+text+",black");
                    } else {
                        document.getElementById(j.toString()).style.backgroundColor = "white";
                        text = j;
                        s.send("color,"+player.toString()+","+text+",white");
                    }
                }
                if (player==1) {
                    document.getElementById("p1score").innerHTML = score.toString();
                } else if (player==2) {
                    document.getElementById("p2score").innerHTML = score.toString();
                }
                text = score.toString();
                s.send("score,"+player.toString()+","+text);
            }
            function collide(blockID) {
                if (blockID >= 200+200*(player-1)) {
                    return false;
                }
                if (fields.includes(blockID)==true) {
                    return false;
                }
                return true;
            }
            function lrcollide(blockID,move) {
                if (parseInt(blockID/10) != parseInt((blockID-move)/10)) {
                    return false;
                }
                if (fields.includes(blockID)==true) {
                    //console.log("collide");
                    return false;
                }
                return true;
            }
            function topout(blockID) {
                if (document.getElementById(blockID.toString()).style.backgroundColor == "black") {
                    return false;
                }
                return true;
            }
            Array.prototype.remove = function(value) {
                this.splice(this.indexOf(value), 1);
            }
            function gameover() {
                console.log("gameover");
                var p1Score = document.getElementById("p1score").innerHTML;
                var p2Score = document.getElementById("p2score").innerHTML;
                if (parseInt(p1Score) > parseInt(p2Score)) {
                    document.getElementById("result").innerHTML="遊戲結束 P1獲勝!";
                } else if (parseInt(p1Score) < parseInt(p2Score)) {
                    document.getElementById("result").innerHTML="遊戲結束 P2獲勝!";
                } else {
                    document.getElementById("result").innerHTML="遊戲結束 雙方平手!";
                }
                document.getElementById("result").innerHTML+="<br>按開始鍵以重新開始遊戲...";
                playing = false;
                console.log(p1Score);
                console.log(p2Score);
            }
            function padInput(){
                window.addEventListener('gamepadconnected', (e) => {
                    gp = navigator.getGamepads()[e.gamepad.index];
                    console.log("Gamepad connected at index %d: %s. %d buttons, %d axes.",
                        gp.index, gp.id,
                        gp.buttons.length, gp.axes.length);
                });
                console.log(gp);
            }
        </script>
    </head>
<body onload="doInit()">
    <h1 align="center">線上俄羅斯方塊</h1>
    <h3 align="center">選擇操控方<h3>
    <table align="center">
    <tr><td><select id="sign">
    <option value = "1">p1</option>
    <option value="2">p2</option>
    </select></td>
    <td><input type="button" value="開始" onClick="play()"></td></tr>
    <td><input type="button" value="偵測手把" onClick="padInput()"></td></tr>
    </table>
    <h3 style="position:absolute;top:30px;left:280px">Player1</h3>
    <h3 style="position:absolute;top:30px;left:980px">Player2</h3>
    <h2 align="center">P1 score</h2>
    <h3 id="p1score" align="center">0<h3>
    <table border = "1" align='center' style="table-layout:fixed;word-break:break-all;border-collapse:collapse;position:absolute;top:80px;left:200px">
    <tr align='center' valign="middle"><td class='cell' id='0'></td><td  class='cell' id='1'></td><td  class='cell' id='2'></td><td  class='cell' id='3'></td><td  class='cell' id='4'></td><td class='cell' id='5'></td><td  class='cell' id='6'></td><td  class='cell' id='7'></td><td  class='cell' id='8'></td><td  class='cell' id='9'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='10'></td><td  class='cell' id='11'></td><td  class='cell' id='12'></td><td  class='cell' id='13'></td><td  class='cell' id='14'></td><td class='cell' id='15'></td><td  class='cell' id='16'></td><td  class='cell' id='17'></td><td  class='cell' id='18'></td><td  class='cell' id='19'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='20'></td><td  class='cell' id='21'></td><td  class='cell' id='22'></td><td  class='cell' id='23'></td><td  class='cell' id='24'></td><td class='cell' id='25'></td><td  class='cell' id='26'></td><td  class='cell' id='27'></td><td  class='cell' id='28'></td><td  class='cell' id='29'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='30'></td><td  class='cell' id='31'></td><td  class='cell' id='32'></td><td  class='cell' id='33'></td><td  class='cell' id='34'></td><td class='cell' id='35'></td><td  class='cell' id='36'></td><td  class='cell' id='37'></td><td  class='cell' id='38'></td><td  class='cell' id='39'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='40'></td><td  class='cell' id='41'></td><td  class='cell' id='42'></td><td  class='cell' id='43'></td><td  class='cell' id='44'></td><td class='cell' id='45'></td><td  class='cell' id='46'></td><td  class='cell' id='47'></td><td  class='cell' id='48'></td><td  class='cell' id='49'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='50'></td><td  class='cell' id='51'></td><td  class='cell' id='52'></td><td  class='cell' id='53'></td><td  class='cell' id='54'></td><td class='cell' id='55'></td><td  class='cell' id='56'></td><td  class='cell' id='57'></td><td  class='cell' id='58'></td><td  class='cell' id='59'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='60'></td><td  class='cell' id='61'></td><td  class='cell' id='62'></td><td  class='cell' id='63'></td><td  class='cell' id='64'></td><td class='cell' id='65'></td><td  class='cell' id='66'></td><td  class='cell' id='67'></td><td  class='cell' id='68'></td><td  class='cell' id='69'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='70'></td><td  class='cell' id='71'></td><td  class='cell' id='72'></td><td  class='cell' id='73'></td><td  class='cell' id='74'></td><td class='cell' id='75'></td><td  class='cell' id='76'></td><td  class='cell' id='77'></td><td  class='cell' id='78'></td><td  class='cell' id='79'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='80'></td><td  class='cell' id='81'></td><td  class='cell' id='82'></td><td  class='cell' id='83'></td><td  class='cell' id='84'></td><td class='cell' id='85'></td><td  class='cell' id='86'></td><td  class='cell' id='87'></td><td  class='cell' id='88'></td><td  class='cell' id='89'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='90'></td><td  class='cell' id='91'></td><td  class='cell' id='92'></td><td  class='cell' id='93'></td><td  class='cell' id='94'></td><td class='cell' id='95'></td><td  class='cell' id='96'></td><td  class='cell' id='97'></td><td  class='cell' id='98'></td><td  class='cell' id='99'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='100'></td><td  class='cell' id='101'></td><td  class='cell' id='102'></td><td  class='cell' id='103'></td><td  class='cell' id='104'></td><td class='cell' id='105'></td><td  class='cell' id='106'></td><td  class='cell' id='107'></td><td  class='cell' id='108'></td><td  class='cell' id='109'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='110'></td><td  class='cell' id='111'></td><td  class='cell' id='112'></td><td  class='cell' id='113'></td><td  class='cell' id='114'></td><td class='cell' id='115'></td><td  class='cell' id='116'></td><td  class='cell' id='117'></td><td  class='cell' id='118'></td><td  class='cell' id='119'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='120'></td><td  class='cell' id='121'></td><td  class='cell' id='122'></td><td  class='cell' id='123'></td><td  class='cell' id='124'></td><td class='cell' id='125'></td><td  class='cell' id='126'></td><td  class='cell' id='127'></td><td  class='cell' id='128'></td><td  class='cell' id='129'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='130'></td><td  class='cell' id='131'></td><td  class='cell' id='132'></td><td  class='cell' id='133'></td><td  class='cell' id='134'></td><td class='cell' id='135'></td><td  class='cell' id='136'></td><td  class='cell' id='137'></td><td  class='cell' id='138'></td><td  class='cell' id='139'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='140'></td><td  class='cell' id='141'></td><td  class='cell' id='142'></td><td  class='cell' id='143'></td><td  class='cell' id='144'></td><td class='cell' id='145'></td><td  class='cell' id='146'></td><td  class='cell' id='147'></td><td  class='cell' id='148'></td><td  class='cell' id='149'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='150'></td><td  class='cell' id='151'></td><td  class='cell' id='152'></td><td  class='cell' id='153'></td><td  class='cell' id='154'></td><td class='cell' id='155'></td><td  class='cell' id='156'></td><td  class='cell' id='157'></td><td  class='cell' id='158'></td><td  class='cell' id='159'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='160'></td><td  class='cell' id='161'></td><td  class='cell' id='162'></td><td  class='cell' id='163'></td><td  class='cell' id='164'></td><td class='cell' id='165'></td><td  class='cell' id='166'></td><td  class='cell' id='167'></td><td  class='cell' id='168'></td><td  class='cell' id='169'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='170'></td><td  class='cell' id='171'></td><td  class='cell' id='172'></td><td  class='cell' id='173'></td><td  class='cell' id='174'></td><td class='cell' id='175'></td><td  class='cell' id='176'></td><td  class='cell' id='177'></td><td  class='cell' id='178'></td><td  class='cell' id='179'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='180'></td><td  class='cell' id='181'></td><td  class='cell' id='182'></td><td  class='cell' id='183'></td><td  class='cell' id='184'></td><td class='cell' id='185'></td><td  class='cell' id='186'></td><td  class='cell' id='187'></td><td  class='cell' id='188'></td><td  class='cell' id='189'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='190'></td><td  class='cell' id='191'></td><td  class='cell' id='192'></td><td  class='cell' id='193'></td><td  class='cell' id='194'></td><td class='cell' id='195'></td><td  class='cell' id='196'></td><td  class='cell' id='197'></td><td  class='cell' id='198'></td><td  class='cell' id='199'></td></tr>
    </table>
    <h2 align="center">P2 score</h2>
    <h3 id="p2score" align="center">0<h3>
    <table border = "1" align='center' style="table-layout:fixed;word-break:break-all;border-collapse:collapse;position:absolute;top:80px;left:900px">
    <tr align='center' valign="middle"><td class='cell' id='200'></td><td  class='cell' id='201'></td><td  class='cell' id='202'></td><td  class='cell' id='203'></td><td  class='cell' id='204'></td><td class='cell' id='205'></td><td  class='cell' id='206'></td><td  class='cell' id='207'></td><td  class='cell' id='208'></td><td  class='cell' id='209'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='210'></td><td  class='cell' id='211'></td><td  class='cell' id='212'></td><td  class='cell' id='213'></td><td  class='cell' id='214'></td><td class='cell' id='215'></td><td  class='cell' id='216'></td><td  class='cell' id='217'></td><td  class='cell' id='218'></td><td  class='cell' id='219'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='220'></td><td  class='cell' id='221'></td><td  class='cell' id='222'></td><td  class='cell' id='223'></td><td  class='cell' id='224'></td><td class='cell' id='225'></td><td  class='cell' id='226'></td><td  class='cell' id='227'></td><td  class='cell' id='228'></td><td  class='cell' id='229'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='230'></td><td  class='cell' id='231'></td><td  class='cell' id='232'></td><td  class='cell' id='233'></td><td  class='cell' id='234'></td><td class='cell' id='235'></td><td  class='cell' id='236'></td><td  class='cell' id='237'></td><td  class='cell' id='238'></td><td  class='cell' id='239'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='240'></td><td  class='cell' id='241'></td><td  class='cell' id='242'></td><td  class='cell' id='243'></td><td  class='cell' id='244'></td><td class='cell' id='245'></td><td  class='cell' id='246'></td><td  class='cell' id='247'></td><td  class='cell' id='248'></td><td  class='cell' id='249'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='250'></td><td  class='cell' id='251'></td><td  class='cell' id='252'></td><td  class='cell' id='253'></td><td  class='cell' id='254'></td><td class='cell' id='255'></td><td  class='cell' id='256'></td><td  class='cell' id='257'></td><td  class='cell' id='258'></td><td  class='cell' id='259'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='260'></td><td  class='cell' id='261'></td><td  class='cell' id='262'></td><td  class='cell' id='263'></td><td  class='cell' id='264'></td><td class='cell' id='265'></td><td  class='cell' id='266'></td><td  class='cell' id='267'></td><td  class='cell' id='268'></td><td  class='cell' id='269'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='270'></td><td  class='cell' id='271'></td><td  class='cell' id='272'></td><td  class='cell' id='273'></td><td  class='cell' id='274'></td><td class='cell' id='275'></td><td  class='cell' id='276'></td><td  class='cell' id='277'></td><td  class='cell' id='278'></td><td  class='cell' id='279'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='280'></td><td  class='cell' id='281'></td><td  class='cell' id='282'></td><td  class='cell' id='283'></td><td  class='cell' id='284'></td><td class='cell' id='285'></td><td  class='cell' id='286'></td><td  class='cell' id='287'></td><td  class='cell' id='288'></td><td  class='cell' id='289'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='290'></td><td  class='cell' id='291'></td><td  class='cell' id='292'></td><td  class='cell' id='293'></td><td  class='cell' id='294'></td><td class='cell' id='295'></td><td  class='cell' id='296'></td><td  class='cell' id='297'></td><td  class='cell' id='298'></td><td  class='cell' id='299'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='300'></td><td  class='cell' id='301'></td><td  class='cell' id='302'></td><td  class='cell' id='303'></td><td  class='cell' id='304'></td><td class='cell' id='305'></td><td  class='cell' id='306'></td><td  class='cell' id='307'></td><td  class='cell' id='308'></td><td  class='cell' id='309'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='310'></td><td  class='cell' id='311'></td><td  class='cell' id='312'></td><td  class='cell' id='313'></td><td  class='cell' id='314'></td><td class='cell' id='315'></td><td  class='cell' id='316'></td><td  class='cell' id='317'></td><td  class='cell' id='318'></td><td  class='cell' id='319'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='320'></td><td  class='cell' id='321'></td><td  class='cell' id='322'></td><td  class='cell' id='323'></td><td  class='cell' id='324'></td><td class='cell' id='325'></td><td  class='cell' id='326'></td><td  class='cell' id='327'></td><td  class='cell' id='328'></td><td  class='cell' id='329'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='330'></td><td  class='cell' id='331'></td><td  class='cell' id='332'></td><td  class='cell' id='333'></td><td  class='cell' id='334'></td><td class='cell' id='335'></td><td  class='cell' id='336'></td><td  class='cell' id='337'></td><td  class='cell' id='338'></td><td  class='cell' id='339'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='340'></td><td  class='cell' id='341'></td><td  class='cell' id='342'></td><td  class='cell' id='343'></td><td  class='cell' id='344'></td><td class='cell' id='345'></td><td  class='cell' id='346'></td><td  class='cell' id='347'></td><td  class='cell' id='348'></td><td  class='cell' id='349'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='350'></td><td  class='cell' id='351'></td><td  class='cell' id='352'></td><td  class='cell' id='353'></td><td  class='cell' id='354'></td><td class='cell' id='355'></td><td  class='cell' id='356'></td><td  class='cell' id='357'></td><td  class='cell' id='358'></td><td  class='cell' id='359'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='360'></td><td  class='cell' id='361'></td><td  class='cell' id='362'></td><td  class='cell' id='363'></td><td  class='cell' id='364'></td><td class='cell' id='365'></td><td  class='cell' id='366'></td><td  class='cell' id='367'></td><td  class='cell' id='368'></td><td  class='cell' id='369'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='370'></td><td  class='cell' id='371'></td><td  class='cell' id='372'></td><td  class='cell' id='373'></td><td  class='cell' id='374'></td><td class='cell' id='375'></td><td  class='cell' id='376'></td><td  class='cell' id='377'></td><td  class='cell' id='378'></td><td  class='cell' id='379'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='380'></td><td  class='cell' id='381'></td><td  class='cell' id='382'></td><td  class='cell' id='383'></td><td  class='cell' id='384'></td><td class='cell' id='385'></td><td  class='cell' id='386'></td><td  class='cell' id='387'></td><td  class='cell' id='388'></td><td  class='cell' id='389'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='390'></td><td  class='cell' id='391'></td><td  class='cell' id='392'></td><td  class='cell' id='393'></td><td  class='cell' id='394'></td><td class='cell' id='395'></td><td  class='cell' id='396'></td><td  class='cell' id='397'></td><td  class='cell' id='398'></td><td  class='cell' id='399'></td></tr>
    </table>
    <h2 align="center" id="result"></h2>
    <table border = "0" align='center' style="table-layout:fixed;word-break:break-all;border-collapse:collapse;position:absolute;top:470px;left:500px">
    <tr align='center' valign="middle"><td class='cell' id='400'></td><td  class='cell' id='401'></td><td  class='cell' id='402'></td><td  class='cell' id='403'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='404'></td><td  class='cell' id='405'></td><td  class='cell' id='406'></td><td  class='cell' id='407'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='408'></td><td  class='cell' id='409'></td><td  class='cell' id='410'></td><td  class='cell' id='411'></td></tr>
    </table>
    <table border = "0" align='center' style="table-layout:fixed;word-break:break-all;border-collapse:collapse;position:absolute;top:470px;left:1200px">
    <tr align='center' valign="middle"><td class='cell' id='412'></td><td  class='cell' id='413'></td><td  class='cell' id='414'></td><td  class='cell' id='415'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='416'></td><td  class='cell' id='417'></td><td  class='cell' id='418'></td><td  class='cell' id='419'></td></tr>
    <tr align='center' valign="middle"><td class='cell' id='420'></td><td  class='cell' id='421'></td><td  class='cell' id='422'></td><td  class='cell' id='423'></td></tr>
    </table>
    
</body>
</html>
